# קבלת מידע אודות משתמשים וקבוצות
ישנם ארבעה סוגי משתמשים: משתמש רגיל, משתמש מנהל מערכת - `root`, משתמש שנקרא `sudoer` (נלמד בהמשך), ומשתמש של תהליכי מערכת.

## משתמשים
קובץ המשתמשים מכיל מידע אודות כל המשתמשים הרשומים במערכת. בקובץ זה ישנם רשומות על כל המשתמשים, כולל משתמשי מערכת. הקובץ נמצא במיקום הבא:

```bash
/etc/passwd
```

כל רשומה בקובץ הינה הגדרות של המשתמש. כל הגדרה מופרדת באמצעות נקודותיים. ההגדרות שבקובץ הם:

1. שם,
2. ססמה (מצוין ב-`x`),
3. מזהה משתמש,
4. מזהה קבוצה,
5. הערה,
6. מיקום ספריית משתמש,
7. מעטפת שבה ישתמש.

כך נראית רשומה:

```bash
user_name:x:1000:1000:comment:/home/user_name:/usr/bin/bash
```

אם נרצה לקרוא את הרשומה בצורה נוחה יותר - נקרא אותה כטבלה:

| user_name | x    | 1000       | 1000       | comment | home/user_name: | usr/bin/bash |
| --------- | ---- | ---------- | ---------- | ------- | --------------- | ------------ |
| שם משתמש  | ססמה | מזהה משתמש | מזהה קבוצה | הערה    | ספריית הבית     | מעטפת        |

אם אנו רוצים לקבל את הרשומה של משתמש ספציפי, נוכל להשתמש בפקודה הבאה:

```bash
cat /etc/passwd | grep user_name
```

## קבוצות

מידע על הקבוצות רשום בקובץ המכיל את פרטי הקבוצות שבמערכת, והוא נמצא במיקום:

```bash
/etc/group
```

כל רשומה בקובץ מכילה מידע אודות קבוצה אחת. וכל הגדרה מופרדת באמצעות נקודתיים. ההגדרות שבקובץ הם:

1. שם,
2. ססמה (לא בשימוש),
3. מזהה קבוצה,
4. חברי הקבוצה.

כך נראית רשומה בקובץ `etc/group/`:

```bash
group_name:x:1000:
```

אם נקרא את הרשומה כטבלה זה ייראה כך:

| group_name | x    | 1000       |             |
| ---------- | ---- | ---------- | ----------- |
| שם         | ססמה | מזהה קבוצה | חברי הקבוצה |

אם אנו רוצים לקבל את הרשומה של קבוצה ספציפית, נוכל להשתמש בפקודה הבאה:

```bash
cat /etc/group | grep group_name
```

## משתמש `sudoer`

משתמש `sudoer` הינו משתמש אשר יש לו הרשאה לשאול (מלשון השאלה) הרשאות ממנהל המערכת באמצעות הפקודה `sudo` לצורך ביצוע פעולות הדורשות הרשאות ממנהל המערכת.

הקובץ  המכיל את נתוני משתמש ה-`sudoer` נמצא במיקום:

```bash
/etc/sudoers
```

## ססמאות

הססמאות של המשתמשים מוצפנות ומאוחסנות בקובץ גיבוב הסיסמאות שנקרא `shadow` והוא נמצא במיקום הבא:

```bash
/etc/shadow
```

# ניהול משתמשים וקבוצות

## הוספה
הוספת משתמש:

```bash
sudo useradd new_user
```

או אופציה מתקדמת יותר:

```bash
sudo adduser new_user
```

הוספת קבוצה:

```bash
sudo groupadd new_group
```

## מחיקה
מחיקת משתמש:

```bash
sudo userdel user_name
```

או:

```bash
sudo deluser user_name
```

אם רוצים למחוק גם את ספריית הבית של המשתמש מציינים `r-`:

```bash
sudo userdel -r user_name
```

או:

```bash
sudo deluser --remove-home user_name
```

## עריכת משתמשים וקבוצות:
הוספת משתמש לקבוצה קיימת:

```bash
sudo usermod -aG group_name user_name
```

הוספת משתמש לקבוצת `sudo`:

```bash
sudo usermod -aG sudo user_name
```

הסרת משתמש מקבוצה:

```bash
sudo usermod -G group_name user_name
```

## בעלות על קבצים וספריות
שינוי בעלות על קובץ:

```bash
sudo chown user_name file_name
```

שינוי בעלות על ספריה:

```bash
sudo chown user_name dir_name
```

שינוי קבוצה של קובץ:

```bash
sudo chgrp group_name file_name
```

שינוי קבוצה של ספרייה:

```bash
sudo chgrp group_name dir_name
```

# לסיכום
למדנו בקצרה את יסודות ניהול המשתמשים והקבוצות. החל בקבלת מידע אודות המשתמשים והקבוצות הרשומים במערכת, והמשך ביצירה ומחיקה של משתמשים, וכלה בשינוי בעלות על קבצים וספריות.
